<html>

<head>
    <link rel="manifest" href="manifest.json">
    <script async src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.9/pwacompat.min.js" integrity="sha384-VcI6S+HIsE80FVM1jgbd6WDFhzKYA0PecD/LcIyMQpT4fMJdijBh0I7Iblaacawc" crossorigin="anonymous"></script>
    <style href="style.css" type="text/css"></style>

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" sizes="512x512" href="icon.png">
    <link rel="apple-touch-icon" type="image/png" sizes="512x512" href="icon.png">
    <script src="clavePokemonPlataYOro.js"></script>
</head>

<body>
    <script language="javascript">
        window.onload = () => inicializar();

        function inicializar() {

            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/PokemonOroYPlataClave/sw.js');
            }
            CargarCampos();
        }

        function CalculaClave() {

            var nombre = document.getElementById("inpNombre").value;
            var idTxt = document.getElementById("inpID").value;
            var dineroTxt = document.getElementById("inpDinero").value;
            var clave;

            if (nombre != "" && idTxt != "" && dineroTxt != "") {
                clave = ClavePokemonPlataYOro(nombre, idTxt, dineroTxt);
                if (clave != undefined) {
                    document.getElementById("lblClave").innerHTML = clave;
                    GuardaCampos();
                }
            } else console.error("parametros vacios, imposible calcular clave!");
        }



        function CargarCampos() {
            document.getElementById("inpNombre").value = localStorage.getItem("nombre");
            document.getElementById("inpID").value = localStorage.getItem("ID");
            document.getElementById("inpDinero").value = localStorage.getItem("dinero");
        }

        function GuardaCampos() {
            localStorage.setItem("nombre", document.getElementById("inpNombre").value);
            localStorage.setItem("ID", document.getElementById("inpID").value);
            localStorage.setItem("dinero", document.getElementById("inpDinero").value);
        }
    </script>
    <table>
        <tbody>
            <tr>
                <td>Nombre</td>
                <td><input id="inpNombre" placeholder="Nombre"></td>
            </tr>
            <tr>
                <td>ID</td>
                <td><input id="inpID" placeholder="ID"></td>
            </tr>
            <tr>
                <td>DINERO</td>
                <td><input id="inpDinero" placeholder="Dinero"></td>
            </tr>
            <tr>
                <td><label>Clave</label></td>
                <td><label id="lblClave" stle="min-height:25px"></label></td>

            </tr>
            <tr>
                <td><button onclick="CalculaClave()">Calcula</button></td>
            </tr>
        </tbody>
    </table>

</body>

</html>